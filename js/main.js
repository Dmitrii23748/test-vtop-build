!function(){"use strict";const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/,n=(e,t,n)=>{e.forEach((e=>{e.dataset.element===n&&(e.classList.add("shape-img-none"),t.classList.add("error-span-border"))}))},a=(e,t,n)=>{e.forEach((e=>{e.dataset.element===n&&(e.classList.remove("shape-img-none"),t.classList.remove("error-span-border"))}))},s=(s,l,o)=>{"input-pass"!==s.dataset.element&&"input-passconf"!==s.dataset.element||(t.test(s.value)?(s.nextElementSibling.textContent="",a(l,s,o)):(s.nextElementSibling.textContent="Пароль содержит 8 символов, заглавные,строчные буквы, цифры и только латинские символы",n(l,s,o))),"input-name"!==s.dataset.element&&"input-lastname"!==s.dataset.element||((e,t,n)=>{""===e.value.trim()?(e.nextElementSibling.textContent="Заполните поле",t.forEach((t=>{t.dataset.element===n&&(t.classList.add("shape-img-none"),e.classList.add("error-span-border"))}))):(e.nextElementSibling.textContent="",t.forEach((t=>{t.dataset.element===n&&(t.classList.remove("shape-img-none"),e.classList.remove("error-span-border"))})))})(s,l,o),"input-email"===s.dataset.element&&(e.test(s.value)?(s.nextElementSibling.textContent="",a(l,s,o)):(s.nextElementSibling.textContent="Не корректный email",n(l,s,o)))},l=document.querySelector("body"),o=document.querySelector(".form"),r=document.querySelector(".form-registr"),i=document.querySelector(".form-btn"),m=document.querySelectorAll(".shape-img"),u=document.getElementById("input-name"),d=document.getElementById("input-lastname"),c=document.getElementById("nationality"),p=document.getElementById("input-email"),v=document.getElementById("year"),g=document.getElementById("month"),f=document.getElementById("day"),h=document.getElementById("input-pass"),y=document.getElementById("input-passwordconf"),E=document.querySelectorAll(".form__input-item"),b=document.querySelector(".form__inputs-radio"),L=document.querySelector(".form__inputs-date"),x={firstName:"",lastName:"",nationality:"",email:"",dayBirth:"",mounthBirth:"",yearBirth:"",gender:"",password:"",confirmPassword:""};document.addEventListener("DOMContentLoaded",(()=>{E.forEach((e=>{e.classList.add("input-item-show")})),b.classList.add("input-item-show"),L.classList.add("input-item-show")}));const C=["January","February","March","April","May","June","July","August","September","October","November","December"];let S;function B(e){for(;f.firstChild;)f.removeChild(f.firstChild);let t,n=v.value;t="January"===e||"March"===e||"May"===e||"July"===e||"August"===e||"October"===e||"December"===e?31:"April"===e||"June"===e||"September"===e||"November"===e?30:1===new Date(n,1,29).getMonth()?29:28;for(let e=1;e<=t;e++){const t=document.createElement("option");t.textContent=e,f.appendChild(t)}S&&(f.value=S,""===f.value&&(f.value=S-1),""===f.value&&(f.value=S-2),""===f.value&&(f.value=S-3))}!function(){for(let e=0;e<C.length;e++){const t=document.createElement("option");t.textContent=C[e],g.appendChild(t)}g.value="January"}(),B(g.value),function(){let e=(new Date).getFullYear();for(let t=0;t<101;t++){const n=document.createElement("option");n.textContent=e-t,v.appendChild(n)}}(),v.onchange=function(){B(g.value)},g.onchange=function(){B(g.value)},f.onchange=function(){S=f.value},i.addEventListener("click",(()=>{setTimeout((()=>{i.classList.remove("form-btn-crash")}),100)}));for(let e of o.elements){let t=e.dataset.element;e.classList.contains("select-item")||e.classList.contains("input-radio")||e.classList.contains("form-btn")||e.addEventListener("blur",(()=>{s(e,m,t),h.value!==y.value&&""!==y.value&&(e.nextElementSibling.textContent="Пароли не равны")}))}l.addEventListener("input",(e=>{"firstName"===e.target.name&&(x.firstName=u.value),"lastname"===e.target.name&&(x.lastName=d.value),"select-nationality"===e.target.name&&(x.nationality=c.value),"day"===e.target.name&&(x.dayBirth=f.value),"month"===e.target.name&&(x.mounthBirth=g.value),"year"===e.target.name&&(x.yearBirth=v.value),"email"===e.target.name&&(x.email=p.value),"password"===e.target.name&&(x.password=h.value),"passconf"===e.target.name&&(x.confirmPassword=y.value)})),document.addEventListener("change",(e=>x.gender=e.target.value)),o.addEventListener("submit",(e=>{e.preventDefault();for(let e of o.elements){let t=e.dataset.element;e.classList.contains("select-item")||e.classList.contains("input-radio")||e.classList.contains("form-btn")||(""===e.value?(e.nextElementSibling.textContent="Заполните поле",i.classList.add("form-btn-crash"),m.forEach((n=>{n.dataset.element===t&&(n.classList.add("shape-img-none"),e.classList.add("error-span-border"))}))):h.value!==y.value&&""!==y.value?"input-pass"!==t&&"input-passconf"!==t||(e.nextElementSibling.textContent="Пароли не равны"):""!==e.value?s(e,m,t):(e.nextElementSibling.textContent="",e.classList.remove("error-span-border")))}""!==x.firstName&&""!==x.lastName&&""!==x.nationality&&""!==x.email&&""!==x.dayBirth&&""!==x.mounthBirth&&""!==x.yearBirth&&""!==x.gender&&""!==x.password&&""!==x.confirmPassword&&x.password===x.confirmPassword&&(console.log(x),o.classList.add("form-class"),r.classList.add("form-registr-class"),u.value="",d.value="",p.value="",v.value="",g.value="",f.value="",h.value="",y.value="")})),new Vivus("my-svg",{type:"sync",duration:300})}();